{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React, { Component } from 'react'\n\nexport class TableComponent extends Component {\n  filterValues = {}\n\n  constructor(props) {\n    super(props)\n\n    this.columns = this.columnsObject(this.props.columns, this.props.data)\n\n    this.pages = typeof this.props.pages === 'number' ? this.props.pages : 0\n\n    this.handleFilter = this.handleFilter.bind(this)\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.columns !== this.props.columns) {\n      this.columns = this.columnsObject(this.props.columns, this.props.data)\n    }\n    if (prevProps.pages !== this.props.pages) {\n      this.pages = typeof this.props.pages === 'number' ? this.props.pages : 0\n    }\n  }\n\n  columnsObject(prop, data) {\n    const obj = prop || Object.keys(data[0])\n    if (typeof obj[0] === 'string') {\n      return obj.map((column) => ({\n        caption: column,\n        filterComponent: null\n      }))\n    } else {\n      return obj\n    }\n  }\n\n  handleCellClick(row, column, value, target) {\n    const payload = {\n      row: row,\n      column: column,\n      value: value,\n      target: target\n    }\n\n    if (this.props.onCellClick) {\n      this.props.onCellClick(payload)\n    }\n  }\n\n  handlePageClick(page) {\n    if (this.props.onPageClick) {\n      this.props.onPageClick(page)\n    }\n  }\n\n  handleNextPageClick() {\n    if (this.props.onNextPageClick) {\n      this.props.onNextPageClick()\n    }\n  }\n\n  handlePreviousPageClick() {\n    if (this.props.onPreviousPageClick) {\n      this.props.onPreviousPageClick()\n    }\n  }\n\n  handleFilter(value, id) {\n    this.filterValues[id] = {\n      value: value\n    }\n    console.log(this.filterValues)\n  }\n\n  render() {\n    return (\n      <div>\n        <table className={this.props.className} style={this.props.style}>\n          <thead>\n            <tr>\n              {this.columns.map((column, index) => (\n                <th\n                  onClick={(e) =>\n                    this.handleCellClick(0, index, column.caption, e.target)\n                  }\n                  key={index}\n                  scope='col'\n                >\n                  {column.caption}\n                  {column.filterComponent ? (\n                    <column.filterComponent\n                      setFilter={(value) => {\n                        this.handleFilter(value, column.filterId || 'search')\n                      }}\n                    />\n                  ) : null}\n                </th>\n              ))}\n            </tr>\n          </thead>\n\n          <tbody>\n            {this.props.data\n              .map((val) => Object.values(val))\n              .map((row, rIndex) => (\n                <tr key={rIndex}>\n                  {row.map((cell, cIndex) => (\n                    <td\n                      onClick={(e) =>\n                        this.handleCellClick(rIndex, cIndex, cell, e.target)\n                      }\n                      key={cIndex}\n                    >\n                      {cell}\n                    </td>\n                  ))}\n                </tr>\n              ))}\n          </tbody>\n        </table>\n        {this.props.pagination ? (\n          <ul className='pagination'>\n            {this.props.showPrevious ? (\n              <li className='page-item'>\n                <button\n                  onClick={() => this.handlePreviousPageClick()}\n                  className='btn btn-link'\n                >\n                  &lt;\n                </button>\n              </li>\n            ) : (\n              ''\n            )}\n            {[...new Array(this.pages)].map((_, index) => (\n              <li className='page-item' key={index}>\n                <button\n                  onClick={() => this.handlePageClick(index + 1)}\n                  className='btn btn-link'\n                >\n                  {index + 1}\n                </button>\n              </li>\n            ))}\n            {this.props.showNext ? (\n              <li className='page-item'>\n                <button\n                  onClick={() => this.handleNextPageClick()}\n                  className='btn btn-link'\n                >\n                  &gt;\n                </button>\n              </li>\n            ) : (\n              ''\n            )}\n          </ul>\n        ) : (\n          ''\n        )}\n      </div>\n    )\n  }\n}\n"],"names":["TableComponent","Component","constructor","props","filterValues","columns","columnsObject","data","pages","handleFilter","bind","componentDidUpdate","prevProps","prop","obj","Object","keys","map","column","caption","filterComponent","handleCellClick","row","value","target","payload","onCellClick","handlePageClick","page","onPageClick","handleNextPageClick","onNextPageClick","handlePreviousPageClick","onPreviousPageClick","id","console","log","render","className","style","index","e","filterId","val","values","rIndex","cell","cIndex","pagination","showPrevious","Array","_","showNext"],"mappings":"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"}